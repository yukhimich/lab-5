using System;
using System.Collections.Generic;
using System.Linq;

// Клас "Товар"
class Товар
{
    public string Назва { get; set; }
    public decimal Ціна { get; set; }
    public string Опис { get; set; }
    public string Категорія { get; set; }
    public int Рейтинг { get; set; }
}

// Клас "Користувач"
class Користувач
{
    public string Логін { get; set; }
    public string Пароль { get; set; }
    public List<Замовлення> ІсторіяПокупок { get; set; }
}

// Клас "Замовлення"
class Замовлення
{
    public List<Товар> Товари { get; set; }
    public Dictionary<Товар, int> КількістьТоварів { get; set; }
    public decimal ЗагальнаВартість { get; set; }
    public string СтатусЗамовлення { get; set; }
}

// Інтерфейс "ISearchable"
interface ISearchable
{
    List<Товар> ПошукПоЦіні(decimal мінЦіна, decimal максЦіна);
    List<Товар> ПошукПоКатегорії(string категорія);
    List<Товар> ПошукПоРейтингу(int мінРейтинг);
}

// Клас "Магазин"
class Магазин : ISearchable
{
    private List<Товар> Товари;
    private List<Користувач> Користувачі;
    private List<Замовлення> Замовлення;

    public Магазин()
    {
        Товари = new List<Товар>();
        Користувачі = new List<Користувач>();
        Замовлення = new List<Замовлення>();
    }

    public void ДодатиТовар(Товар товар)
    {
        Товари.Add(товар);
    }

    public void ДодатиКористувача(Користувач користувач)
    {
        Користувачі.Add(користувач);
    }

    public void ОформитиЗамовлення(Користувач користувач, List<Товар> товари, Dictionary<Товар, int> кількістьТоварів)
    {
        decimal загальнаВартість = 0;
        foreach (var пара in кількістьТоварів)
        {
            загальнаВартість += пара.Key.Ціна * пара.Value;
        }

        Замовлення замовлення = new Замовлення
        {
            Товари = товари,
            КількістьТоварів = кількістьТоварів,
            ЗагальнаВартість = загальнаВартість,
            СтатусЗамовлення = "Очікується оплата"
        };

        користувач.ІсторіяПокупок.Add(замовлення);
        Замовлення.Add(замовлення);
    }

    public List<Товар> ПошукПоЦіні(decimal мінЦіна, decimal максЦіна)
    {
        return Товари.Where(товар => товар.Ціна >= мінЦіна && товар.Ціна <= максЦіна).ToList();
    }

    public List<Товар> ПошукПоКатегорії(string категорія)
    {
        return Товари.Where(товар => товар.Категорія == категорія).ToList();
    }

    public List<Товар> ПошукПоРейтингу(int мінРейтинг)
    {
        return Товари.Where(товар => товар.Рейтинг >= мінРейтинг).ToList();
    }
}

class Program
{
    static void Main()
    {
        // Створення магазину
        Магазин магазин = new Магазин();

        // Додавання товарів до магазину
        Товар товар1 = new Товар { Назва = "Товар 1", Ціна = 10, Категорія = "Категорія 1", Рейтинг = 4 };
        Товар товар2 = new Товар { Назва = "Товар 2", Ціна = 20, Категорія = "Категорія 2", Рейтинг = 5 };
        магазин.ДодатиТовар(товар1);
        магазин.ДодатиТовар(товар2);

        // Додавання користувачів до магазину
        Користувач користувач1 = new Користувач { Логін = "user1", Пароль = "password1" };
        магазин.ДодатиКористувача(користувач1);

        // Оформлення замовлення користувачем
        Dictionary<Товар, int> кількістьТоварів = new Dictionary<Товар, int>
        {
            { товар1, 2 },
            { товар2, 1 }
        };
        магазин.ОформитиЗамовлення(користувач1, new List<Товар> { товар1, товар2 }, кількістьТоварів);

        // Пошук товарів за різними критеріями
        List<Товар> результатПошуку = магазин.ПошукПоЦіні(15, 30);
        foreach (var товар in результатПошуку)
        {
            Console.WriteLine($"Товар: {товар.Назва}, Ціна: {товар.Ціна}, Категорія: {товар.Категорія}");
        }
    }
}
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace lab_5
{
    internal class Program
    {
        static void Main(string[] args)
        {
        }
    }
}
